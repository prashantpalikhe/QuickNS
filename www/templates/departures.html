<ion-view view-title="{{ $ctrl.station }}">
    <ion-content>
        <ion-refresher pulling-text="Vernieuw..." on-refresh="$ctrl.activate()"></ion-refresher>

        <ion-list ng-if="!$ctrl.departures">
            <ion-item ng-repeat="placeholder in $ctrl.placeholders track by $index">
                <div class="loading-title"></div>
                <div class="loading-subtitle"></div>
            </ion-item>
        </ion-list>

        <ion-list ng-if="$ctrl.departures">
            <ion-item class="item-input">
                <i class="icon ion-search placeholder-icon"></i>
                <input type="search" placeholder="Zoeken..." ng-model="$ctrl.query">
            </ion-item>

            <ion-item ng-repeat="departure in $ctrl.departures | filter: $ctrl.query" ng-click="$ctrl.share(departure)">
                <span class="item-note" ng-if="::departure.vertrekspoor._">
                    Spoor {{ ::departure.vertrekspoor._ }}
                </span>

                <h2>
                    {{ ::departure.eindbestemming }}
                </h2>

                <p>{{ ::departure.treinsoort }}</p>

                <p ng-if="::departure.routetekst">
                    via {{ ::departure.routetekst }}
                </p>

                <p>
                    <i class="ion-clock"></i> {{ ::departure.vertrektijd | date: 'HH:mm' }}
                    <span class="assertive" ng-if="departure.vertrekvertraging">
                        ({{ departure.vertrekvertragingtekst }})
                    </span>
                </p>
            </ion-item>
        </ion-list>
    </ion-content>

    <button class="button button-fab button-positive" ng-click="$ctrl.toggleBookmark()">
        <i class="ion-plus" ng-if="!$ctrl.isBookmarked()"></i>
        <i class="ion-minus" ng-if="$ctrl.isBookmarked()"></i>
    </button>
</ion-view>


